WEBVTT
Kind: captions
Language: zh-CN

00:00:00.000 --> 00:00:02.835
在这个 notebook 里 我已经读取了一张手拿手机的图像

00:00:02.835 --> 00:00:05.719
并对图像进行了复制

00:00:05.719 --> 00:00:08.969
假设我们想将屏幕这个区域分离开来

00:00:08.970 --> 00:00:10.665
使用霍夫变换

00:00:10.664 --> 00:00:14.533
我们应该就能检测出组成屏幕边界的线条了

00:00:14.534 --> 00:00:16.710
要进行霍夫直线检测

00:00:16.710 --> 00:00:19.416
首先得检测出图像的边缘

00:00:19.416 --> 00:00:22.170
也就意味着我得把这张图转为灰度图像

00:00:22.170 --> 00:00:25.885
然后定义阀值 应用 Canny 边缘检测器

00:00:25.885 --> 00:00:27.239
将输出呈现出来

00:00:27.239 --> 00:00:29.070
正如你所见

00:00:29.070 --> 00:00:32.520
我们检测到了许多不连贯的的小边缘

00:00:32.520 --> 00:00:36.675
我要用霍夫变换将这些线段连在一起 形成连续的直线

00:00:36.674 --> 00:00:39.239
要用霍夫变换检测直线

00:00:39.240 --> 00:00:42.728
就得用 OpenCV 的函数 HoughLinesP

00:00:42.728 --> 00:00:47.354
先将二值图像输入函数 然后再输入其它变量

00:00:47.354 --> 00:00:50.533
我在函数上方定义了这些参数

00:00:50.533 --> 00:00:52.994
其中 ρ 和 θ 就是我们的霍夫变量了

00:00:52.994 --> 00:00:55.549
两者定义了检测的分辨率

00:00:55.549 --> 00:00:58.519
我把它们分别设为 1 个像素和 1 度

00:00:58.520 --> 00:01:01.965
然后是直线检测的最低阀值

00:01:01.965 --> 00:01:06.704
这个阀值就是霍夫空间要找到一根直线所需的最少相交数

00:01:06.704 --> 00:01:08.069
然后要设置的变量是

00:01:08.069 --> 00:01:12.524
最小线条长度和线条分段之间的距离

00:01:12.525 --> 00:01:15.930
别急 你很快就有机会自己动手处理这些值了

00:01:15.930 --> 00:01:19.980
设定好后 将这些值按顺序输入函数 HoughLinesP 中

00:01:19.980 --> 00:01:21.450
还要输入这个空数组

00:01:21.450 --> 00:01:23.549
具体请见文本

00:01:23.549 --> 00:01:27.364
这个函数会返回其检测到的所有霍夫直线

00:01:27.364 --> 00:01:30.079
每根直线实际上是一个包含着四个点的数组

00:01:30.079 --> 00:01:32.719
四个点即 x1、y1 和 x2、y2

00:01:32.719 --> 00:01:35.390
也就是每根直线两端的终点

00:01:35.390 --> 00:01:38.340
下一步 复制图像

00:01:38.340 --> 00:01:42.495
对这些直线进行迭代 在图像里描绘出每条直线

00:01:42.495 --> 00:01:45.285
这里我输入了成线的那些点

00:01:45.284 --> 00:01:47.219
以及线的颜色和大小

00:01:47.219 --> 00:01:49.170
运行代码 绘制图像

00:01:49.170 --> 00:01:54.349
你可以看到 代码沿着屏幕和手绘制了许多线段

00:01:54.349 --> 00:01:57.304
实际上 我们想把这些较短的线段过滤掉

00:01:57.305 --> 00:02:02.980
所以回到这上面 将最小线段长度增加到 100 再次运行代码

00:02:02.980 --> 00:02:06.650
这次线段更好地把手机屏幕单独识别出来了

00:02:06.650 --> 00:02:09.920
像这样找出连续线段是个很实用的技巧

00:02:09.919 --> 00:02:14.149
能帮我们形成边界 令我们注意到物体结构的细节

00:02:14.150 --> 00:02:16.569
很多时候 你得决定用

00:02:16.569 --> 00:02:20.479
图像描廓还是霍夫空间来找出物体边界

00:02:20.479 --> 00:02:22.280
接下来 你要做更多霍夫空间的练习

00:02:22.280 --> 00:02:25.509
这之后再学习其它分割技术

